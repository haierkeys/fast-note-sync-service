# 更新履歴 (CHANGELOG)

このプロジェクトのすべての重要な変更がこのファイルに記録されます。

このプロジェクトは [Keep a Changelog](https://keepachangelog.com/ja/0.3.0/) 規範に従っています。

---

## v1.16.2
> *2026/02/14*

### 🚀 改善

- **WebGui**: WebGui インターフェースの位置を調整。
- **機能**: サーバー情報の表示を追加。
- **パフォーマンス**: 各種リストの表示高さが低すぎる問題に対し、ゼロコピーアクセスによる最適化を実施。
- **同期**: ノート/添付ファイルの同期ロジックを最適化。

---

## v1.16.1
> *2026/02/14*

### 🚀 改善

- **WebGui**: WebGui インターフェースの位置を調整。
- **機能**: サーバー情報の表示を追加。

---

## v1.15.11
> *2026/02/14*

### 🚀 改善

- **WebGui**: WebGui インターフェースを最適化し、URL サポートを追加。

---

## v1.15.10
> *2026/02/14*

### 🚀 改善

- **アーキテクチャ**: サービスツールセットを調整。
- **API**: インターフェースのレスポンス構造を調整。

---

## v1.15.9
> *2026/02/14*

### ✨ 新機能

- **ツール**: fns に docs および ws デバッグツールのアクセスエントリを追加。

---

## v1.15.8
> *2026/02/13*

### 🛠️ 修正

- **安定性**: 時間処理の軽微なバグを修正。

---

## v1.15.7
> *2026/02/13*

### 🛠️ 修正

- **同期**: オフライン削除時にローカルハッシュテーブルがクリアされない問題を修正。

---

## v1.15.6
> *2026/02/13*

### 🛠️ 修正

- **スクリプト**: macOS 下での fns ショートカットスクリプトの実行問題を修正。
- **ログ**: ログ出力内容を修正。

---

## v1.15.5
> *2026/02/12*

### 🚀 改善

- **CI/CD**: GitHub Action で go mod バージョンを使用してビルド・リリースするように調整。

---

## v1.15.4
> *2026/02/12*

### ✨ 新機能

- **同期**: ノート設定関連メッセージのクリア機能を追加。

---

## v1.15.3
> *2026/02/10*

### 🛠️ 修正

- **ディレクトリ**: 重複ディレクトリに対する回避策を追加し、起動時に重複ディレクトリをクリーンアップする機能を追加。

---

## v1.15.2
> *2026/02/09*

### 🚀 改善

- **データベース**: DB のパフォーマンスと構造を最適化し、一括フォーマットを実施。

---

## v1.15.1
> *2026/02/07*

### ✨ 新機能

- **ディレクトリ**: ディレクトリ（Folder）管理機能を追加（Model および関連ロジックを含む）。
- **同期**: 潜在的なデータ競合問題を修正し、ノートと添付ファイルのリネーム機能を最適化。

---

## v1.14.1
> *2026/01/31*

### ✨ 新機能

- **ゴミ箱**: 添付ファイル管理でゴミ箱および一括復元機能をサポート。

### 🛠️ 修正

- **安定性**: 添付ファイル/設定ファイルで更新時間と内容が一致する場合にリソースが正しく作成されない問題を修正。

### 🚀 改善

- **API**: 添付ファイルの閲覧/ダウンロードインターフェースをゼロコピーアクセスに最適化。
- **WebGui**: 各種リストの表示高さが低すぎる問題を最適化。

---

## v1.14.0
> *2026/01/31*

### ✨ 新機能

- **ゴミ箱**: 添付ファイル管理にゴミ箱を追加。
- **WebGui**: サーバー情報の表示を追加。
- **同期**: ノートと添付ファイルのリネーム機能を追加。

### 🛠️ 修正

- **安定性**: 潜在的なデータ競合問題を修正。

---

## v1.13.0
> *2026/01/30*

### ✨ 新機能
- **同期**: 添付ファイル、ノート、設定のオフライン削除同期機能を追加。
- **同期**: 増分同期モードで欠落ファイルの自動ダウンロード機能を追加。

---

## v1.12.0
> *2026/01/29*

### 🚀 改善
- **言語**: すべてのコードコメントとドキュメントを中英併記または英語に統一翻訳/更新。
- **API**: APIレスポンスメッセージの国際化（i18n）対応を改善。
- **安定性**: 自動リソースプレフィックスの問題を修正。
- **API**: API拡張を追加：編集操作、バックリンク（Backlinks）、ヘルスチェック。

---

## v1.11.3
> *2026/01/27*

### 🛠️ 修正
- **添付ファイル**: 添付ファイルダウンロードのタイムアウト（30秒）エラーを修正。設定可能になり、デフォルトは1時間。

---

## v1.11.2
> *2026/01/27*

### ✨ 新機能
- **WebGui**: Obsidian SSO自動認証メカニズムを追加。

### 🚀 改善
- **WebGui**: 認証設定インターフェースのUIを改善。

---

## v1.11.1
> *2026/01/26*

### 🚀 改善
- **リリース**: バージョンリリースワークフローを調整。

---

## v1.11.0
> *2026/01/26*

### ✨ 新機能
- **機能**: バージョン検出およびバージョン情報取得機能を追加。

---

## v1.10.8
> *2026/01/26*

### ✨ 新機能
- **API**: 添付ファイル状態検出インターフェースを追加。

---

## v1.10.7
> *2026/01/25*

### 🛠️ 修正
- **安定性**: ファイルアップロード時の整合性チェックによるサーバークラッシュを修正。

---

## v1.10.6
> *2026/01/24*

### ✨ 新機能
- **WebGui**: 添付ファイル管理ページにページネーションを追加。

---

## v1.10.5
> *2026/01/23*

### 🛠️ 修正
- **ゴミ箱**: ゴミ箱および履歴バージョンからのノート/バージョンの復元に関する問題を修正。

---

## v1.10.4
> *2026/01/23*

### 🛠️ 修正
- **添付ファイル**: 添付ファイルアップロード中のネットワーク切断による異常を修正し、エラーログレベルを下げました。

---

## v1.10.3
> *2026/01/20*

### 🚀 改善
- **WebGui**: ノートリポジトリリストのズーム効果を、選択時のシャドウ効果に変更。

### 🛠️ 修正
- **WebGui**: ノートリポジトリ名に特殊文字が含まれる場合にアクセスできないバグを修正。

---

## v1.10.2
> *2026/01/20*

### 🛠️ 修正
- **管理**: 新規ユーザー登録およびユーザー登録無効化設定が機能しないバグを修正。

---

## v1.10.1
> *2026/01/20*

### 🛠️ 修正
- **管理**: 新規ユーザー登録の問題を修正。

---

## v1.10.0
> *2026/01/19*

### ✨ 新機能
- **添付ファイル**: 添付ファイル管理機能を追加。
- **認証**: Token有効期限の設定を追加。
- **共有**: 共有機能関連のインターフェースを追加。
- **ドキュメント**: Swagger APIドキュメントを追加。

### 🚀 改善
- **WebGui**: WebGuiのデプロイパスを調整。
- **API**: APIエラーメッセージを詳細化。

### 🛠️ 修正
- **WebGui**: WebGui自動翻訳による通知の問題を修正。

---

## v1.9.1
> *2026/01/14*

### 🚀 改善
- **WebGui**: ブルー配色スキームを追加し、エディタの表示を最適化。

---

## v1.9.0
> *2026/01/14*

### ✨ 新機能
- **WebGui**: UIを全面刷新（@ZyphrZero による貢献）。
- **WebGui**: エディタをVditorに変更し、リッチテキストとMarkdownのリアルタイムレンダリングをサポート。
- **WebGui**: カスタムノート検索、リスト項目のソート、カラーテーマをサポート。
- **WebGui**: ダークモード、オンラインバージョン検出、ゴミ箱からの復元機能を追加。
- **設定**: 履歴バージョンの保持数および保存遅延設定を追加。

### 🚀 改善
- **セキュリティ**: サービスプロークンの暗号化難読化文字を最適化。

---

## v1.8.1
> *2026/01/12*

### 🔄 変更
- **アーキテクチャ**: DDDレイヤードアーキテクチャを導入（@ZyphrZero による貢献）、グローバル変数を削除し、依存性注入（DI）パターンを実装。

### 🚀 改善
- **同期**: オフラインノートのマージを最適化し、行レベルの競合検出と3-wayマージを実現。
- **パフォーマンス**: Worker PoolとPer-User Write Queueを追加し、SQLiteの並行書き込みロック問題を解決。
- **WebSocket**: Contextのライフサイクル管理を最適化し、TraceIDの追跡能力を強化。

### 🛠️ 修正
- **ロジック**: ノートの名称変更によるノートの紛失およびエラーの問題を修正。

---

## v1.7.3
> *2026/01/09*

### 🛠️ 修正
- **データベース**: データベース作成失敗時のフレンドリーなエラー表示を追加。

---

## v1.7.2
> *2026/01/09*

### ✨ 新機能
- **WebGui**: 設定機能および関連インターフェースを追加。
- **管理**: 管理者ID設定を追加。

---

## v1.7.1
> *2026/01/09*

### ✨ 新機能
- **同期**: オフラインデバイスのノート編集マージ機能を追加（プラグインv1.7+が必要）。

---

## v1.6.3
> *2026/01/08*

### 🚀 改善
- **WebGui**: ノートリストの検索機能を最適化。
- **WebGui**: アイコン表示を追加。
- **WebGui**: ノートリポジトリに添付ファイル表示と更新ボタンを追加。

### 🛠️ 修正
- **安定性**: 並行クエリ時の潜在的な例外を修正。

---

## v1.6.1
> *2026/01/07*

### 🚀 改善
- **パフォーマンス**: 大規模なノートリポジトリの同期効率とデータ処理を最適化（プラグインv1.6+が必要）。
- **キャッシュ**: 静的コンテンツにブラウザキャッシュメカニズムを追加。

> [!CAUTION]
> このバージョンではデータベース構造の最適化が行われています。サーバー上の `storage/database` にあるDBファイルを削除することをお勧めします。ノートの変更履歴は再生成されます。

---

## v1.5.4
> *2026/01/06*

### 🛠️ 修正
- **添付ファイル**: 添付ファイルのアップロード時に稀に発生するエラーを修正。

---

## v1.5.3
> *2026/01/06*

### 🚀 改善
- **WebGui**: 編集機能を遅延読み込みし、ホームページの読み込み速度を向上。

---

## v1.5.2
> *2026/01/05*

### 🛠️ 修正
- **同期**: 同期タスクの進捗表示が不正確な問題を修正。

---

## v1.5.1
> *2026/01/04*

### 🛠️ 修正
- **ロジック**: ノートの名称変更後に正常に削除できない問題を修正。
- **安定性**: 大規模なノート同期時にWebSocket接続がリセットされる問題を修正。
- **多言語**: WebGui APIの言語エラーを修正。

---

## v1.5.0
> *2026/01/04*

### ✨ 新機能
- **ゴミ箱**: ノートゴミ箱機能を追加。
- **WebGui**: ユーザー状態検出を追加。
- **WebGui**: 登録ページに登録受付終了の検出を追加。
- **WebGui**: 操作確認のキーボードショートカットをサポート。

### 🚀 改善
- **WebGui**: ノート編集のユーザーエクスペリエンスを向上。
- **データベース**: データベースの並行アクセス問題を最適化し解決。

### 🛠️ 修正
- **スクリプト**: ショートカットスクリプトが設定ファイルを上書きする問題を修正。

---

## v1.4.7
> *2026/01/03*

### 🛠️ 修正
- **データベース**: SQLiteの並行問題を解決し、内部エラーコードを修正。

---

## v1.4.6
> *2026/01/03*

### 🛠️ 修正
- **Docker**: Docker環境で `temp` ディレクトリが存在しない問題を修正。

---

## v1.4.5
> *2026/01/03*

### 🛠️ 修正
- **同期**: 初回同期または全量同期時に添付ファイルが同期されない問題を修正（プラグインv1.5.14+が必要）。

---

## v1.4.4
> *2026/01/02*

### 🛠️ 修正
- **アクセス**: タイトルにEmojiが含まれる場合のアクセス問題を修正。

### ✨ 新機能
- **ドキュメント**: ヘルプファイルを追加。

---

## v1.4.3
> *2026/01/02*

### 🔄 変更
- **リポジトリ**: ノートリポジトリの削除操作を論理削除に変更。

---

## v1.4.2
> *2026/01/01*

### ✨ 新機能
- **WebGui**: ノート削除時に赤色の確認ポップアップを表示し、誤削除を防止。

---

## v1.4.1
> *2025/12/31*

### 🚀 改善
- **API**: ノートリソース（画像など）のダウンロードインターフェースにETagブラウザキャッシュを追加し、読み込み速度を向上。

---

## v1.4.0
> *2025/12/31*

### ✨ 新機能
- **WebGui**: 最大化ボタンを追加し、全画面編集のエクスペリエンスを向上。
- **WebGui**: ノート表示ページでObsidian埋め込み画像、PDF、およびその他の添付ファイルの表示をサポート。
- **API**: リソースダウンロードインターフェースを追加。

---

## v1.3.8
> *2025/12/31*

### 🚀 改善
- **サーバー**: ノートのコンテンツハッシュバージョン管理を確立し、今後の追跡、比較、マージを容易にしました。

---

## v1.3.7
> *2025/12/30*

### 🛠️ 修正
- **安定性**: タスクおよびアップグレードスクリプトにリカバリ機能を追加し、サービスダウンを防止。
- **安定性**: 各レイヤーで発生していたNilポインタによるPanicを修正。

---

## v1.3.6
> *2025/12/30*

### 🛠️ 修正
- **タスク管理**: タスクマネージャーのエラーを修正。

---

## v1.3.5
> *2025/12/30*

### 🚀 改善
- **WebGui**: ノート表示ページを最適化。
- **スクリプト**: 一件インストール/管理スクリプトを最適化。

---

## v1.3.4
> *2025/12/30*

### 🛠️ 修正
- **同期**: 同期コマンドの処理エラーによる、不正確なファイル同期の問題を修正。
- **スクリプト**: 一件スクリプトで `Ctrl+C` 時にサービスが一緒に終了する問題を修正。

---

## v1.3.3
> *2025/12/29*

### 🛠️ 修正
- **同期**: 単一ユーザーによる複数ノートリポジトリ更新時の混乱の問題を解決。

---

## v1.3.2
> *2025/12/28*

### ✨ 新機能
- **多言語**: 多言語環境のサポートを追加。

### 🚀 改善
- **WebGui**: ノート履歴の差異表示を最適化。

---

## v1.3.1
> *2025/12/28*

### 🚀 改善
- **ロジック**: ノートタイトル変更時のロジック処理を最適化。

---

## v1.3.0
> *2025/12/28*

### ✨ 新機能
- **WebGui**: WebGuiのフォント設定をユーザーが制御できる設定を追加。

---

## v1.2.6
> *2025/12/27*

### 🚀 改善
- **WebGui**: フォント読み込みロジックを最適化し、UIのスタッタリングを回避。

---

## v1.2.5
> *2025/12/27*

### ✨ 新機能
- **クライアント**: クライアント名の記録をサポート。

### 🚀 改善
- **クリーンアップ**: ノートの名称変更後の同期クリーンアップロジックを追加。

---

## v1.2.4
> *2025/12/27*

### 🛠️ 修正
- **WebGui**: 履歴バージョンが空の場合の表示バグを修正。

---

## v1.2.3
> *2025/12/27*

### ✨ 新機能
- **API**: ノート履歴関連のインターフェースおよび機能を追加。

### 🚀 改善
- **データベース**: データベースのクエリ効率を最適化。
- **WebGui**: WebGuiの表示フォントを変更し、各種表示バグを修正。

### 🛠️ 修正
- **安定性**: 高並行アクセス時の問題を修正。

---

## v1.2.2
> *2025/12/27*

### 🛠️ 修正
- **WebGui**: ノート履歴が空の場合にページが白くなる問題を修正。

---

## v1.2.1
> *2025/12/27*

### ✨ 新機能
- **API**: ノート履歴関連のインターフェースおよび機能を追加。

### 🚀 改善
- **データベース**: データベースのクエリ効率を最適化。
- **安定性**: 高並行アクセス時の安定性問題を解決。

---

## v1.0.4
> *2025/12/26*

### 🛠️ 修正
- **WebGui**: WebGuiビルド時の例外による表示の問題を修正。

---

## v1.0.3
> *2025/12/25*

### 🛠️ 修正
- **WebGui**: ノートタイトルが長い場合のレイアウトの問題を修正。

---

## v1.0.2
> *2025/12/25*

### 🚀 改善
- **添付ファイル**: 添付ファイルのアップロードロジックを最適化し、アップロード時間を大幅に短縮。

### 🛠️ 修正
- **CI/CD**: GitHub Actionの更新制限を修正。

---

## v1.0.1
> *2025/12/23*

### 🛠️ 修正
- **権限**: 一部のシステムでアップロード時に権限不足が発生する問題を修正。

---

## v1.0.0
> *2025/12/22*

### ✨ 新機能
- **同期**: 設定ファイルの同期機能およびインターフェースを追加。

### 🚀 改善
- **スクリプト**: スクリプトの出力表示を最適化。

### 🛠️ 修正
- **スクリプト**: スクリプトの実行制御の失敗を修正。

---

## v0.11.5
> *2025/12/19*

### 🛠️ 修正
- **Docker**: Dockerイメージの実行問題を修正。

---

## v0.11.4
> *2025/12/18*

### ✨ 新機能
- **認証**: 認証検証インターフェースでバージョン情報の返却を追加。

---

## v0.11.3
> *2025/12/16*

### ✨ 新機能
- **クリーンアップ**: 起動時の自動クリーンアップタスクおよびSession自動クリーンアップロジックを追加。

### 🛠️ 修正
- **安定性**: 高並行時の接続切断による異常終了問題を修正。

---

## v0.11.2
> *2025/12/15*

### 🛠️ 修正
- **安定性**: 並行時の接続切断による異常終了問題を修正。

---

## v0.11.1
> *2025/12/14*

### ✨ 新機能
- **アーキテクチャ**: メッセージにプレフィックスを追加し、今後の機能拡張を容易に。

---

## v0.10.2
> *2025/12/12*

### ✨ 新機能
- **設定**: アップロード/ダウンロードのチャンク設定を追加（デフォルト 512KB）。

---

## v0.10.1
> *2025/12/12*

### ✨ 新機能
- **機能**: バイナリファイルのダウンロード機能を追加。
- **機能**: WebSocketによるチャンクダウンロード機能を追加。
- **機能**: バージョン管理を追加。

---

## v0.9.6
> *2025/12/11*

- 初期バージョン（記録開始）。
