# CHANGELOG

このプロジェクトに対するすべての重要な変更は、このファイルに記録されます。

フォーマットは [Keep a Changelog](https://keepachangelog.com/ja/1.0.0/) に基づいています。

---

## v1.7.2
> *2026/01/09*

### ✨ 追加
- **WebGui**: 設定機能および関連インターフェースを追加しました。
- **管理**: 管理者ID設定を追加しました。

---

## v1.7.1
> *2026/01/09*

### ✨ 追加
- **同期**: オフラインデバイスのノート編集およびマージ機能を追加しました（プラグイン v1.7以降が必要です）。

---

## v1.6.3
> *2026/01/08*

### 🚀 最適化
- **WebGui**: ノートリスト検索機能を最適化しました。
- **WebGui**: アイコン表示を追加しました。
- **WebGui**: ノートリポジトリに添付ファイルの表示および更新ボタンを追加しました。

### 🛠️ 修正
- **安定性**: 同時クエリ実行時に発生する可能性のある例外を修正しました。

---

## v1.6.1
> *2026/01/07*

### 🚀 最適化
- **性能**: 大規模ノートリポジトリの同期効率とデータ処理を最適化しました（プラグイン v1.6以降が必要です）。
- **キャッシュ**: 静的コンテンツにブラウザキャッシュメカニズムを追加しました。

> [!CAUTION]
> このバージョンではデータベース構造の最適化が含まれています。サーバーの `storage/database` ディレクトリにある元のDBファイルを削除することをお勧めします。ノートの変更履歴は再生成されます。

---

## v1.5.4
> *2026/01/06*

### 🛠️ 修正
- **添付ファイル**: 添付ファイルのアップロード時に稀に発生するエラーを修正しました。

---

## v1.5.3
> *2026/01/06*

### 🚀 最適化
- **WebGui**: 編集機能の遅延読み込みを実装し、トップページの読み込み速度を向上させました。

---

## v1.5.2
> *2026/01/05*

### 🛠️ 修正
- **同期**: 同期タスクの進捗表示が不正確だった問題を修正しました。

---

## v1.5.1
> *2026/01/04*

### 🛠️ 修正
- **ロジック**: ノートをリネームした後に正常に削除できない問題を修正しました。
- **安定性**: 大規模なノート同期時にWebSocket接続がリセットされる問題を修正しました。
- **多言語**: WebGuiのインターフェース言語が正しくなかった問題を修正しました。

---

## v1.5.0
> *2026/01/04*

### ✨ 追加
- **ゴミ箱**: ノートのゴミ箱機能を追加しました。
- **WebGui**: ユーザーステータス検出を追加しました。
- **WebGui**: 登録ページに登録停止の検出を追加しました。
- **WebGui**: 操作確認用のキーボードショートカットをサポートしました。

### 🚀 最適化
- **WebGui**: ノート編集ページのユーザーエクスペリエンスを向上させました。
- **データベース**: データベースの同時アクセス問題を最適化し解決しました。

### 🛠️ 修正
- **スクリプト**: ショートカットスクリプトが設定ファイルを上書きする可能性があった問題を修正しました。

---

## v1.4.7
> *2026/01/03*

### 🛠️ 修正
- **データベース**: SQLiteの並行性の問題を解決し、内部エラーコードを修正しました。

---

## v1.4.6
> *2026/01/03*

### 🛠️ 修正
- **Docker**: Docker環境で実行時に `temp` ディレクトリが存在しないと報告される問題を修正しました。

---

## v1.4.5
> *2026/01/03*

### 🛠️ 修正
- **同期**: 初回同期または全同期時に添付ファイルが同期されない問題を修正しました（プラグイン v1.5.14以降が必要です）。

---

## v1.4.4
> *2026/01/02*

### 🛠️ 修正
- **アクセス**: 絵文字を含むタイトルのノートにアクセスできない問題を修正しました。

### ✨ 追加
- **ドキュメント**: ヘルプファイルを追加しました。

---

## v1.4.3
> *2026/01/02*

### 🔄 変更
- **リポジトリ**: ノートリポジトリの削除操作を論理削除（ソフトデリート）に変更しました。

---

## v1.4.2
> *2026/01/01*

### ✨ 追加
- **WebGui**: 誤削除防止のため、ノート削除時に赤い二次確認ポップアップを追加しました。

---

## v1.4.1
> *2025/12/31*

### 🚀 最適化
- **API**: ノートリソース（画像など）のダウンロードインターフェースにETagブラウザキャッシュを追加し、読み込み速度を向上させました。

---

## v1.4.0
> *2025/12/31*

### ✨ 追加
- **WebGui**: 最大化ボタンを追加し、フルスクリーン編集体験を向上させました。
- **WebGui**: ノート閲覧ページで、Obsidian埋め込み画像、PDF、その他の添付ファイルの表示をサポートしました。
- **API**: リソースダウンロードインターフェースを追加しました。

---

## v1.3.8
> *2025/12/31*

### 🚀 最適化
- **サーバー**: ノートの内容ハッシュに基づくリポジトリを構築し、今後の追跡、比較、マージ操作を容易にしました。

---

## v1.3.7
> *2025/12/30*

### 🛠️ 修正
- **安定性**: タスクとアップグレードスクリプトにクラッシュ回復機能を実装し、単一タスクのエラーによるサービス全体の停止を回避しました。
- **安定性**: 既存の各レイヤーで発生していたnilポインタによるPanic問題を修正しました。

---

## v1.3.6
> *2025/12/30*

### 🛠️ 修正
- **タスク管理**: タスクマネージャーに存在したエラーを修正しました。

---

## v1.3.5
> *2025/12/30*

### 🚀 最適化
- **WebGui**: ノート閲覧ページの表示効果を最適化しました。
- **スクリプト**: ワンクリックインストール/管理スクリプトを最適化しました。

---

## v1.3.4
> *2025/12/30*

### 🛠️ 修正
- **同期**: 同期コマンドの処理エラーにより、ファイルが誤ってすべてのクライアントに同期される問題を修正しました。
- **スクリプト**: `Ctrl+C` 時にすでに起動しているサービスが同時に終了してしまう問題を修正しました。

---

## v1.3.3
> *2025/12/29*

### 🛠️ 修正
- **同期**: ユーザーが複数のノートリポジトリを持っている場合に発生する可能性があった同期の混乱を修正しました。

---

## v1.3.2
> *2025/12/28*

### ✨ 追加
- **多言語**: 多言語環境のサポートを追加しました。

### 🚀 最適化
- **WebGui**: ノート履歴の差分表示を最適化しました。

---

## v1.3.1
> *2025/12/28*

### 🚀 最適化
- **ロジック**: ノートタイトル変更時のロジック処理を最適化しました。

---

## v1.3.0
> *2025/12/28*

### ✨ 追加
- **WebGui**: WebGuiのフォント設定をユーザーが制御できるようにしました。

---

## v1.2.6
> *2025/12/27*

### 🚀 最適化
- **WebGui**: フォントの読み込みロジックを最適化し、読み込み中のインターフェースのカクつきを回避しました。

---

## v1.2.5
> *2025/12/27*

### ✨ 追加
- **クライアント**: クライアント名の記録をサポートしました。

### 🚀 最適化
- **クリーンアップ**: ノートのリネーム後に同期クリーンアップロジックを追加しました。

---

## v1.2.4
> *2025/12/27*

### 🛠️ 修正
- **WebGui**: 履歴バージョンの内容が空の場合の表示バグを修正しました。

---

## v1.2.3
> *2025/12/27*

### ✨ 追加
- **API**: ノート履歴に関連するインターフェースと機能を追加しました。

### 🚀 最適化
- **データベース**: データベースの検索効率を向上させました。
- **WebGui**: WebGuiの表示フォントを変更し、各種表示バグを修正しました。

### 🛠️ 修正
- **安定性**: 高頻度の同時アクセス時に発生する問題を修正しました。

---

## v1.2.2
> *2025/12/27*

### 🛠️ 修正
- **WebGui**: ノート履歴が空の場合にページが白紙になる問題を修正しました。

---

## v1.2.1
> *2025/12/27*

### ✨ 追加
- **API**: ノート履歴に関連するインターフェースと機能を追加しました。

### 🚀 最適化
- **データベース**: データベースの検索効率を向上させました。
- **安定性**: 大量アクセス時の安定性問題を解決しました。

---

## v1.0.4
> *2025/12/26*

### 🛠️ 修正
- **WebGui**: WebGuiページのビルド異常による白紙問題を修正しました。

---

## v1.0.3
> *2025/12/25*

### 🛠️ 修正
- **WebGui**: 長すぎるノートタイトルによるレイアウト崩れを修正しました。

---

## v1.0.2
> *2025/12/25*

### 🚀 最適化
- **添付ファイル**: 添付ファイルのアップロードロジックを最適化し、アップロード時間を大幅に短縮しました。

### 🛠️ 修正
- **CI/CD**: GitHub Actionの更新制限問題を修正しました。

---

## v1.0.1
> *2025/12/23*

### 🛠️ 修正
- **権限**: 一部のシステムで権限不足によりアップロードできない問題を修正しました。

---

## v1.0.0
> *2025/12/22*

### ✨ 追加
- **同期**: 設定ファイルの同期に関連する機能とインターフェースを追加しました。

### 🚀 最適化
- **スクリプト**: 表示スクリプトの出力を最適化しました。

### 🛠️ 修正
- **スクリプト**: スクリプトの実行制御の不具合を修正しました。

---

## v0.11.5
> *2025/12/19*

### 🛠️ 修正
- **Docker**: Dockerイメージの実行不具合を修正しました。

---

## v0.11.4
> *2025/12/18*

### ✨ 追加
- **認証**: 認証検証インターフェースでバージョン情報を返す機能を追加しました。

---

## v0.11.3
> *2025/12/16*

### ✨ 追加
- **クリーンアップ**: プログラム起動時の自動クリーンアップタスクおよびセッション自動クリーンアップロジックを追加しました。

### 🛠️ 修正
- **安定性**: 高負荷時に接続が閉じられたことによる異常終了を修正しました。

---

## v0.11.2
> *2025/12/15*

### 🛠️ 修正
- **安定性**: 高負荷時に接続が閉じられたことによる異常終了を修正しました。

---

## v0.11.1
> *2025/12/14*

### ✨ 追加
- **アーキテクチャ**: メッセージにプレフィックスを追加し、今後の機能拡張を容易にしました。

---

## v0.10.2
> *2025/12/12*

### ✨ 追加
- **設定**: アップロード/ダウンロードのチャンクサイズ設定（デフォルト512KB）を追加しました。

---

## v0.10.1
> *2025/12/12*

### ✨ 追加
- **機能**: バイナリファイルのダウンロード機能を追加しました。
- **機能**: WebSocketのチャンクダウンロード機能を追加しました。
- **機能**: バージョン管理を追加しました。

---

## v0.9.6
> *2025/12/11*

- 初回リリース（記録開始）
