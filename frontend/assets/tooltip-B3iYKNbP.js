import{r as e,j as t,a as r}from"./vendor-CePkgVYi.js";import{c as o}from"./index-BSF7RTna.js";function n({children:n,content:s,delay:a=300,side:c="top",align:i="center",disabled:u=!1,className:l}){const[d,f]=e.useState(!1),p=e.useRef(null),m=e.useRef(null),h=e.useRef(null),[b,w]=e.useState({top:0,left:0}),[g,x]=e.useState(c);e.useEffect(()=>{var e;if(d&&m.current){const t=m.current.getBoundingClientRect(),r=8;let o=c;if("top"===c){const n=(null==(e=h.current)?void 0:e.offsetHeight)||200;t.top-n-r<0&&(o="bottom")}x(o);let n=0,s=0;switch(o){case"top":n=t.top-r;break;case"bottom":n=t.bottom+r;break;case"left":n=t.top+t.height/2,s=t.left-r;break;case"right":n=t.top+t.height/2,s=t.right+r}if("top"===o||"bottom"===o)switch(i){case"start":s=t.left;break;case"center":s=t.left+t.width/2;break;case"end":s=t.right}else switch(i){case"start":n=t.top;break;case"center":n=t.top+t.height/2;break;case"end":n=t.bottom}w({top:n,left:s})}},[d,c,i]);const v=e=>{"Escape"===e.key&&f(!1)};e.useEffect(()=>()=>{p.current&&window.clearTimeout(p.current)},[]);const k=d&&!u?t.jsx("div",{ref:h,className:o("fixed z-[9999] px-2 py-1 text-xs font-medium whitespace-nowrap","bg-popover text-popover-foreground","rounded-md shadow-md border border-border","animate-in fade-in-0 zoom-in-95 duration-200","pointer-events-none",l),style:{top:`${b.top}px`,left:`${b.left}px`,transform:(()=>{switch(g){case"top":return"translate(-50%, -100%)";case"bottom":return"translate(-50%, 0%)";case"left":return"translate(-100%, -50%)";case"right":return"translate(0%, -50%)"}})(),transformOrigin:(()=>{switch(g){case"top":return"bottom center";case"bottom":return"top center";case"left":return"right center";case"right":return"left center"}})()},role:"tooltip",onKeyDown:v,children:s}):null;return t.jsxs("div",{ref:m,onMouseEnter:()=>{u||(p.current=window.setTimeout(()=>{f(!0)},a))},onMouseLeave:()=>{p.current&&(window.clearTimeout(p.current),p.current=null),f(!1)},onKeyDown:v,role:"button",tabIndex:0,children:[n,"undefined"!=typeof document&&r.createPortal(k,document.body)]})}export{n as T};
