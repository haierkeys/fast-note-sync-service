import{r as s,u as e,j as a}from"./vendor-react-BqTDQwnF.js";import{D as r,U as o,S as t,B as n,c as d,C as l,L as i,d as c,I as m,e as p,f as j,M as x,h as u,l as v,q as h,t as f,m as k,g as C,i as S,j as g,k as y,n as w,o as M,p as L,r as T}from"./vendor-mdxeditor-Dtev8mXH.js";import{u as b}from"./index-CMVhVdWA.js";import"./vendor-markdown-pzZZ4ZEh.js";import"./vendor-lezer-D2lWI9EV.js";import"./vendor-cm-ext-Cg68zz9J.js";import"./vendor-cm-core-8RbOw7rJ.js";import"./vendor-cm-langs-BGekjUKK.js";import"./vendor-radix-Cb0hK3Nk.js";import"./vendor-form-BUjT2gaL.js";import"./vendor-utils-CXE6oYtv.js";import"./vendor-icons-eIy_2i4y.js";import"./vendor-state-DyxkDTOn.js";import"./vendor-i18n-CyLnY-h5.js";import"./vendor-motion-ng7M7-0x.js";const J=s.forwardRef(({value:J,onChange:P,readOnly:B=!1,placeholder:N},R)=>{const{t:E}=e(),{resolvedTheme:O}=b(),X=s.useRef(null),q=s.useRef(J),[H,I]=s.useState(0);s.useEffect(()=>{q.current=J},[J]);const V=s.useCallback(s=>{q.current=s,null==P||P(s)},[P]);s.useImperativeHandle(R,()=>({getValue:()=>q.current,setValue:s=>{q.current=s,X.current?X.current.setMarkdown(s):I(s=>s+1)}}),[]);const z=s.useCallback(()=>a.jsxs(r,{children:[a.jsx(o,{}),a.jsx(t,{}),a.jsx(n,{}),a.jsx(t,{}),a.jsx(d,{}),a.jsx(l,{}),a.jsx(t,{}),a.jsx(i,{}),a.jsx(t,{}),a.jsx(c,{}),a.jsx(m,{}),a.jsx(p,{}),a.jsx(j,{})]}),[]),A=[u(),v(),h(),f(),k(),C(),S(),g(),y(),w({defaultCodeBlockLanguage:"text"}),M({codeBlockLanguages:{js:"JavaScript",javascript:"JavaScript",ts:"TypeScript",typescript:"TypeScript",jsx:"JSX",tsx:"TSX",css:"CSS",html:"HTML",json:"JSON",python:"Python",py:"Python",go:"Go",rust:"Rust",java:"Java",c:"C",cpp:"C++",csharp:"C#",sql:"SQL",bash:"Bash",shell:"Shell",yaml:"YAML",xml:"XML",markdown:"Markdown",md:"Markdown",text:"Plain Text","":"Plain Text"}}),L({viewMode:"rich-text"}),...B?[]:[T({toolbarContents:z})]];return a.jsx("div",{className:"mdx-editor-container h-full "+("dark"===O?"dark-theme":""),"data-color-mode":O,children:a.jsx(x,{ref:X,markdown:J,onChange:V,readOnly:B,placeholder:N||E("noteContentPlaceholder")||"请输入内容...",plugins:A,contentEditableClassName:"prose prose-sm max-w-none dark:prose-invert min-h-[300px]"},H)})});J.displayName="MarkdownEditor";export{J as MarkdownEditor};
